CREATE DATABASE IF NOT EXISTS traffic;
use traffic;
CREATE TABLE userTable (userID INT AUTO_INCREMENT PRIMARY KEY,userRole INT NOT NULL DEFAULT 1,userPassword VARCHAR(255) NOT NULL,firstName VARCHAR(255) NOT NULL,lastName VARCHAR(255) NOT NULL,username VARCHAR(255) NOT NULL UNIQUE);
CREATE TABLE cameraReportTable (reportID INT AUTO_INCREMENT PRIMARY KEY,cameraType INT NOT NULL,cameraLatitude DECIMAL(10, 7) NOT NULL,cameraLongitude DECIMAL(10, 7) NOT NULL,cameraReportStatus ENUM('Approved', 'Rejected', 'Pending') NOT NULL DEFAULT 'Pending',submitterID INT NOT NULL,FOREIGN KEY (submitterID) REFERENCES userTable(userID) ON DELETE CASCADE,submittedDate DATETIME DEFAULT CURRENT_TIMESTAMP);
CREATE TABLE cameraApprovalTable (approvalID INT AUTO_INCREMENT PRIMARY KEY, reportID INT NOT NULL UNIQUE, FOREIGN KEY (approvalID) REFERENCES userTable(userID) ON DELETE CASCADE, FOREIGN KEY (reportID) REFERENCES cameraReportTable(reportID) ON DELETE CASCADE);